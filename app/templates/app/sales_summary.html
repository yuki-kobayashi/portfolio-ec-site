{% extends 'app/base.html' %}

{% block content %}

  <div class="container">
    <h2>売上集計</h2>
    
    <form method="get">
      <label for="start_date">開始日:</label>
      <input type="date" name="start_date" id="start_date" value="{{ start_date }}">

      <label for="end_date">終了日:</label>
      <input type="date" name="end_date" id="end_date" value="{{ end_date }}">

      <button type="submit">集計</button>
    </form>

    {% if summary %}
      <h3>売上期間: {{ start_date }} ～ {{ end_date }}</h3>
      <table border="1">
        <thead>
          <tr>
            <th>日付</th>
            <th>売上合計（円）</th>
          </tr>
        </thead>
        <tbody>
          {% for item in summary %}
            <tr>
              <td>{{ item.date }}</td>
              <td>{{ item.total }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>該当する売上データがありません。</p>
    {% endif %}
  </div>
  
{% endblock %}